@model RealEstateApp.Core.Application.Dtos.Account.Edit.EditProfileRequest
@{
    ViewData["Title"] = "Editar Perfil";
}
<h1>Editar Perfil</h1>
<form asp-action="EditProfile" method="post" enctype="multipart/form-data">
    <div class="form-group">
        <label asp-for="FirstName"></label>
        <input asp-for="FirstName" class="form-control" />
        <span asp-validation-for="FirstName" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="LastName"></label>
        <input asp-for="LastName" class="form-control" />
        <span asp-validation-for="LastName" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Phone"></label>
        <input asp-for="Phone" class="form-control" />
        <span asp-validation-for="Phone" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Photo">Foto de Perfil</label>
        <input asp-for="Photo" type="file" class="form-control" />
        <span asp-validation-for="Photo" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    <a asp-action="Index" class="btn btn-secondary">Cancelar</a>
</form>

<div class="modal fade" id="reloginModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="reloginModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="reloginModalLabel">Cambios Guardados</h5>
            </div>
            <div class="modal-body">
                Para que los cambios se reflejen correctamente, necesitas volver a iniciar sesión.
            </div>
            <div class="modal-footer">
                <a asp-controller="Home" asp-action="LogOut" class="btn btn-primary">Cerrar Sesión</a>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        $(document).ready(function () {
        @if (TempData["ShowReloginModal"] != null && (bool)TempData["ShowReloginModal"])
        {
            <text>
                            setTimeout(function() {
                                $('#reloginModal').modal({
                                    backdrop: 'static',
                                    keyboard: false
                                });
                            $('#reloginModal').modal('show');
                                    }, 500);
            </text>
        }
                });
    </script>
}